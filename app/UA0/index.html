<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Mon planning à l'UA0</title>
    <meta name="description" content="Anticiper mes horraires postés dans le temps" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#2994ff" />
    <link rel="manifest" href="./app.webmanifest" crossorigin="use-credentials" />
    <link rel="shortcut icon" href="./favicons/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="./favicons/faviconAny.svg" />
    <link rel="icon" type="image/png" href="./favicons/faviconAny.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="./favicons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Au fil de l'O" />
    <link rel="stylesheet" href="./styles/main.css" media="all" />
    <link rel="preload" href="./fonts/notoSans-Regular.woff2" as="font" type="font/woff2" crossorigin="" />
    <link rel="preload" href="./fonts/notoSerif-Regular.woff2" as="font" type="font/woff2" crossorigin="" />
    <link rel="preload" href="./fonts/OleoScriptSwashCaps-Regular.woff2" as="font" type="font/woff2" crossorigin="" />
  </head>
  <body>
    <main>
      <article>
        <header class="header no-print">
          <h1>Mon Planning</h1>
        </header>
        <div class="main-content">
          <div class="wrapper">
            <div class="tabs">
              <details>
                <summary>
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>
                  Planning
                </summary>
                <div>
                  <div class="flex gap items-push no-print visibility hidden">
                    <button id="contenteditable" class="button">
                      <svg height="24px" viewBox="0 -960 960 960" width="24px">
                        <path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v200h-80v-40H200v400h280v80H200Zm0-560h560v-80H200v80Zm0 0v-80 80ZM560-80v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T903-300L683-80H560Zm300-263-37-37 37 37ZM620-140h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z"/>
                      </svg>
                      <span>Éditer</span>
                      <span class="hidden">Désactiver l'édition</span>
                    </button>
                    <button class="button cmd-print">
                      <svg height="24px" viewBox="0 -960 960 960" width="24px">
                        <path
                          d="M640-640v-120H320v120h-80v-200h480v200h-80Zm-480 80h640-640Zm560 100q17 0 28.5-11.5T760-500q0-17-11.5-28.5T720-540q-17 0-28.5 11.5T680-500q0 17 11.5 28.5T720-460Zm-80 260v-160H320v160h320Zm80 80H240v-160H80v-240q0-51 35-85.5t85-34.5h560q51 0 85.5 34.5T880-520v240H720v160Zm80-240v-160q0-17-11.5-28.5T760-560H200q-17 0-28.5 11.5T160-520v160h80v-80h480v80h80Z"
                        />
                      </svg>
                      Imprimer
                    </button>
                  </div>
                  <div class="grid-auto gap" id="calendar">
                    <img src="./images/CalvinAndHobbes.jpg" width="456" height="392" alt="Calvin et Hobbes" class="presentation-image" />
                  </div>
                </div>
              </details>
              <details class="no-print">
                <summary>
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M640-160v-280h160v280H640Zm-240 0v-640h160v640H400Zm-240 0v-440h160v440H160Z"/></svg>
                  Statistiques
                </summary>
                <div>
                  <div class="grid2 gap">
                    <div class="stats">
                      <p class="visibility hidden">Statistiques pour l'année en cours&nbsp;:</p>
                      <br class="visibility hidden">
                      <div id="stats">Vous devez configurer un planning pour voir des statistiques...</div>
                    </div>
                    <div>
                      <ul>
                        <li>M : matin</li>
                        <li>S : soir</li>
                        <li>J : jour</li>
                        <li>N : nuit</li>
                        <li>R : repos</li>
                        <li>F : ferié</li>
                        <li>C : congé</li>
                        <li>A : arrêt travail ou maladie</li>
                        <li>D : décharge syndicale</li>
                        <li>G : grève</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </details>
              <details class="no-print">
                <summary>
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z"/></svg>
                  Configuration
                </summary>
                <div>
                  <div class="grid2 gap">
                    <div class="grid gap">
                      <div>
                        <label for="pattern-select">Ma fonction&nbsp;:</label>
                        <div class="form-control">
                          <select id="pattern-select" class="target-for-textarea">
                            <option value="IDE" selected>Infirmier</option>
                            <option value="ASH">Agent des Services Hospitaliers</option>
                            <option value="CUSTOM">Roulement personnalisé</option>
                          </select>
                        </div>
                      </div>
                      <div>
                        <label for="start-date" class="form-label">Début de mon roulement&nbsp;:</label>
                        <div class="form-control">
                          <input type="date" id="start-date" required />
                        </div>
                      </div>
                      <details name="details" class="details">
                        <summary><em>Quand débuter mon roulement&nbsp;?</em></summary>
                        <div class="message-highlight">
                          <div>
                            <details>
                              <summary>Pour les IDE</summary>
                              <p>
                                Le roulement IDE de jour s’étend sur 11 semaines.
                                <br>
                                Nous partirons de cette semaine&nbsp;:
                                <br>
                                <code>J, J, S, J, J, R, R</code>
                              </p>
                            </details>
                            <details>
                              <summary>Pour les ASH</summary>
                              <p>
                                Le roulement ASH s'étend sur 4 semaines.
                                <br>
                                Nous partirons de cette semaine&nbsp;:
                                <br>
                                <code>M, M, M, M, R, S, S</code>
                              </p>
                            </details>
                            <p>
                              Il faut repérer cette semaine dans votre planning déjà connu et la faire correspondre sur un <strong>lundi</strong>. 
                              Attention à ne pas confondre les semaines entre elles&nbsp;!
                            </p>
                            <p>
                              Quel que soit le moment où le roulement est défini, le planning sera toujours généré à partir du premier jour du
                              mois en cours.
                            </p>
                          </div>
                        </div>
                      </details>
                      <details name="details" class="details target-for-textarea">
                        <summary><em>Personnaliser mon roulement</em></summary>
                        <div class="message-highlight">
                          <p>
                            Cette personnalisation permet de modifier un roulement, on peut même en
                            créer un nouveau. Les jours (J), soirs (S), matins (M), repos (R), etc, seront séparés par des virgules.
                          </p>
                          <p>Par la suite faire&nbsp; <code>Ma fonction > Roulement personnalisé</code> pour récupérer ce roulement.</p>
                          </p>
                          <div>
                            <div class="gap-block">
                              <label for="custom-pattern">Roulement à personnaliser&nbsp;:</label>
                              <textarea name="custom-pattern" id="custom-pattern" class="autosize custom-pattern"></textarea>
                            </div>
                            <div class="flex items-push">
                              <button id="save-custom-pattern" class="button"><svg height="24px" viewBox="0 -960 960 960" width="24px"><path d="M438-226 296-368l58-58 84 84 168-168 58 58-226 226ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Z"/></svg> Enregistrer</button>
                            </div>
                          </div>
                        </div>
                      </details>
                      <div class="flex wrap gap xs-button-full">
                        <button id="generate-schedule" class="button">
                          <svg height="24px" viewBox="0 -960 960 960" width="24px">
                            <path
                              d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v240h-80v-80H200v400h280v80H200ZM760 0q-73 0-127.5-45.5T564-160h62q13 44 49.5 72T760-60q58 0 99-41t41-99q0-58-41-99t-99-41q-29 0-54 10.5T662-300h58v60H560v-160h60v57q27-26 63-41.5t77-15.5q83 0 141.5 58.5T960-200q0 83-58.5 141.5T760 0ZM200-640h560v-80H200v80Zm0 0v-80 80Z"
                            />
                          </svg>
                          Générer le planning
                        </button>
                        <button id="reset" class="button warning">
                          <svg height="24px" viewBox="0 -960 960 960" width="24px">
                            <path d="m388-212-56-56 92-92-92-92 56-56 92 92 92-92 56 56-92 92 92 92-56 56-92-92-92 92ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Z"/>
                          </svg>
                          Réinitialiser tout
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </details>
            </div>
          </div>
        </div>
      </article>
    </main>
    <footer class="footer no-print">
      <div class="wrapper flex gap items-push">
        <p>Au fil de l'O</p>
        <img src="./images/logo.svg" alt="logo" class="logo" />
      </div>
    </footer>
    <script src="./scripts/main.js" defer></script>
    <script src="./scripts/tabs.js" defer></script>
    <script src="./scripts/planning.js" defer></script>
    <script src="./scripts/stats.js" defer></script>
    <script src="./scripts/pieChart.js" defer></script>
  </body>
</html>
