/* @bug @affected Chrome @note Nombreux bugs : éléments html ou effets d'ombre tronqués s'ils dépassent des colonnes, drop-shadow utilisé sur des éléments internes aux colonnes créé des artefacts. */

[class^='column'] {
  column-gap: 0;
  position: relative;

  & > * {
    display: inline-block;
    width: 100%;
    break-inside: avoid-column; /* @note Évite aux items enfants de column d'être éventuellement coupés en deux. @see https://stackoverflow.com/questions/7785374 */
    word-wrap: break-word; /* @note Alias de overflow-wrap @see https://developer.mozilla.org/fr/docs/Web/CSS/overflow-wrap */
  }

  &.gap {
    column-gap: var(--gap);
    /* @note À l'inverse de grid layout, le module columns a besoin des marges pour bien s'implémenter. */
    margin-block-end: calc(-1 * var(--gap));

    & > * {
      margin-block-end: var(--gap);
    }
  }

  &.gap-top {
    margin-block-start: var(--gap);
  }

  &.gap-bottom {
    margin-block-end: 0;
  }

  &.gap-vertical {
    gap: 0 var(--gap);
    /* column-gap: var(--gap); */
  }
}

@media (width < $sizeXS) {
  .sizeXS-column2 {
    column-count: 2;
  }
}

@media (width > $sizeXS) {
  .column2,
  .column3,
  .column4,
  .s-column2 {
    column-count: 2;
  }

  .column5,
  .column6 {
    column-count: 3;
  }
}

@media (width > $sizeS) {
  .column3,
  .column4 {
    column-count: 3;
  }

  .column5,
  .column6 {
    column-count: 4;
  }

  .m-column2 {
    column-count: 2;
  }
}

@media (width > $sizeL) {
  .column4 {
    column-count: 4;
  }

  .column5 {
    column-count: 5;
  }

  .column6 {
    column-count: 6;
  }

  .l-column3 {
    column-count: 3;
  }
}
