"use strict";const accordion=()=>{const e=window.location.pathname,t=`${(e.substring(0,e.lastIndexOf("."))||e).replace(/[\W_]/gi,"")||"index".toLowerCase()}AccordionPanel`,n=(document.querySelectorAll(".accordion").forEach(((e,t)=>{e.id=`accordion-${t}`,e.role="tablist"})),document.querySelectorAll(".accordion > details").forEach(((e,n)=>{const a=!e.open&&"open"!==localStorage.getItem(t+n)||"close"===localStorage.getItem(t+n)?"false":"true";e.outerHTML=`<div id="accordion-details-${n}" class="accordion-details" data-open="${a}">${e.innerHTML}</div>`})),document.querySelectorAll(".accordion > * > summary").forEach(((e,t)=>{const n="true"===e.parentElement.dataset.open?"true":"false";e.outerHTML=`<button id="accordion-summary-${t}" type="button" class="accordion-summary" role="tab" aria-controls="accordion-panel-${t}" aria-expanded="${n}">${e.innerHTML}</button>`})),document.querySelectorAll(".accordion > * > :last-child").forEach(((e,t)=>{e.id=`accordion-panel-${t}`,e.classList.add("accordion-panel"),e.role="tabpanel",e.setAttribute("aria-labelledby",`accordion-summary-${t}`),e.ariaHidden="true"===e.parentElement.dataset.open?"false":"true"})),document.querySelectorAll(".accordion-summary").forEach(((e,o)=>{e.addEventListener("click",(()=>{const c=e.parentElement,i=c.parentElement.dataset.singletab,l=e.nextElementSibling;c.dataset.open="true"===c.dataset.open?"false":"true","true"===c.dataset.open?(e.ariaExpanded="true",localStorage.setItem(t+o,"open"),n(l)):(e.ariaExpanded="false",localStorage.setItem(t+o,"close"),a(l)),i&&r(c)}))})),e=>{e.style.maxHeight=`${e.scrollHeight}px`,e.addEventListener("transitionend",(()=>e.removeAttribute("style"))),e.ariaHidden="false"}),a=e=>{e.style.maxHeight=`${e.scrollHeight}px`,setTimeout((()=>{e.removeAttribute("style"),e.ariaHidden="true"}))},r=e=>{for(const n of e.parentElement.children)n!==e&&(n.dataset.open="false",n.firstElementChild.ariaExpanded="false",a(n.lastElementChild),localStorage.setItem(t+n.id.match(/\d+$/i)[0],"close"))}};window.addEventListener("DOMContentLoaded",accordion());const clientTest=()=>{const e=document.querySelector(".client-test"),t=(e=>{switch(!0){case-1!=e.indexOf("Win"):return"Windows";case-1!=e.indexOf("Mac"):return"Macintosh";case-1!=e.indexOf("Linux"):return"Linux";case-1!=e.indexOf("Android"):return"Android";case-1!=e.indexOf("like Mac"):return"iOS";default:return"Unknown OS"}})(navigator.userAgent),n=(e=>{switch(!0){case e.indexOf("edge")>-1:return"MS Edge";case e.indexOf("edg/")>-1:return"Edge ( chromium based)";case e.indexOf("opr")>-1&&!!window.opr:return"Opera";case e.indexOf("chrome")>-1&&!!window.chrome:return"Chrome";case e.indexOf("trident")>-1:return"MS IE";case e.indexOf("firefox")>-1:return"Mozilla Firefox";case e.indexOf("safari")>-1:return"Safari";default:return"other"}})(window.navigator.userAgent.toLowerCase());let a=window.innerWidth,r=window.innerHeight;e&&(e.innerHTML=`<li>Système d'exploitation&nbsp;: ${t}</i>`,e.innerHTML+=`<li>Navigateur&nbsp;: ${n}</i>`,e.innerHTML+=`<li>Profondeur de l'écran&nbsp;: ${screen.pixelDepth} bits</i>`,e.innerHTML+=`<li>Définition écran&nbsp;: ${screen.width}px x ${screen.height}px</i>`,e.innerHTML+=`<li>Fenêtre de navigation&nbsp;: ${a}px x ${r}px</i>`)};window.addEventListener("load",(()=>clientTest())),window.addEventListener("resize",(()=>{let e;clearTimeout(e),e=setTimeout((()=>{clientTest()}),200)}));const selectText=e=>{if(document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else console.warn("Could not select text in node: Unsupported browser.")},selectAndCopy=void document.querySelectorAll(".pre > code:not(:empty)").forEach((e=>{const t=document.createElement("button"),n=e.dataset.select||"Select and copy";t.type="button",e.offsetHeight<30&&t.classList.add("copy-offset"),e.parentElement.appendChild(t),t.title=n,t.ariaLabel=n,injectSvgSprite(t,"copy"),t.addEventListener("click",(()=>{selectText(e),navigator.clipboard?navigator.clipboard.writeText(e.textContent):document.execCommand("copy")}))})),addTitleCodeBlock=void document.querySelectorAll(".pre").forEach((e=>{const t=document.createElement("div"),n=document.createElement("span"),a=e.children[0].dataset.language,r=document.createTextNode(a);e.appendChild(t),injectSvgSprite(t,"code"),a&&(n.appendChild(r),t.appendChild(n))})),formValidation=(()=>{const e="message-warning";function t(t,n,a){t.classList.add("invalid"),n&&n.remove(),(n=document.createElement("div")).classList.add(e),t.after(n);const r=document.createElement("p");r.textContent=a;r.insertAdjacentHTML("afterbegin",'<svg class="icon-inline" role="img" focusable="false"><use href="/sprites/util.svg#warning"></use></svg>'),n.appendChild(r)}function n(e,t){e.classList.remove("invalid"),t&&t.remove()}(()=>{function a(a){const r=a.parentNode.querySelector("."+e);if(a.value.length>41){t(a,r,"Entrée invalide : chaîne de caractères trop longue.")}else if(a.value.match("\\d")){t(a,r,"Entrée invalide : présence de caractères numériques.")}else if(a.value.match('[\\\\/\\[\\]|%&!?+÷×=±_{}()<>;:,$€£¥¢*§@~`•√π¶∆^°²©®™✓#"]')){t(a,r,"Entrée invalide : présence de caractères spéciaux non autorisés.")}else n(a,r)}document.querySelectorAll(".validation-name").forEach((e=>{e.addEventListener("input",(()=>a(e)),!1),e.addEventListener("change",(()=>{e.value=e.value.replace(/  +/g," "),e.value=e.value.trim(),e.value=e.value.replace(/^\p{CWU}/u,(e=>e.toLocaleUpperCase())),a(e)}),!1)}))})(),document.querySelectorAll(".validation-email").forEach((a=>{a.addEventListener("input",(()=>function(a){const r=a.parentNode.querySelector("."+e);a.value.match(/@.*@/)?t(a,r,"Entrée invalide : présence de plusieurs arobases."):n(a,r)}(a)),!1),a.addEventListener("change",(()=>{a.value=a.value.replace(/ +/g,""),a.value=a.value.trim(),function(a){const r=a.parentNode.querySelector("."+e);a.value?a.value.match(/@/)?a.value.match(/\S+@\S+\.\S+/)?n(a,r):t(a,r,"Entrée invalide : l'addresse mail n'est pas conforme."):t(a,r,"Entrée invalide : absence du caractère arobase obligatoire."):n(a,r)}(a)}),!1)})),document.querySelectorAll(".validation-url").forEach((a=>{a.addEventListener("input",(()=>function(a){const r=a.parentNode.querySelector("."+e);a.value.match(/@.*@/)?t(a,r,"Entrée invalide : présence de plusieurs arobases."):n(a,r)}(a)),!1),a.addEventListener("change",(()=>{a.value=a.value.replace(/ +/g,""),a.value=a.value.trim(),a.value=a.value.replace(/^\p{CWL}/u,(e=>e.toLocaleLowerCase())),function(a){const r=a.parentNode.querySelector("."+e);let o;try{new URL(a.value),o=!0}catch(e){o=!1}a.value?a.value.match(/http/)?o?n(a,r):t(a,r,"Entrée invalide : l'url n'est pas conforme."):t(a,r,"Entrée invalide : il manque un protocole à votre url (https://, http://, ...)."):n(a,r)}(a)}),!1)})),document.querySelectorAll(".validation-phone-fr_FR").forEach((a=>{a.addEventListener("input",(()=>function(a){const r=a.parentNode.querySelector("."+e);a.value&&a.value.match(/(?!\+)\D/)?t(a,r,"Entrée invalide : présence de caractères non autorisés."):n(a,r)}(a)),!1),a.addEventListener("change",(()=>{a.value=a.value.replace(/ +/g,""),a.value=a.value.trim(),function(a){const r=a.parentNode.querySelector("."+e);a.value?a.value.match(/^((0|0033|\+33)[1-9][0-9]{8})$/)?n(a,r):t(a,r,"Entrée invalide : format incorrect pour la France."):n(a,r)}(a)}),!1)}))})(),imageFocus=(()=>{const e=document.querySelectorAll("[class*=-focus]"),t="picture-area",n=document.querySelectorAll("body > :not(.picture-area"),a=()=>{document.documentElement.classList.toggle("freeze"),n.forEach((e=>e.hasAttribute("inert")?e.removeAttribute("inert"):e.setAttribute("inert","")))},r=e=>{const n=document.createElement("div");n.classList.add(t),e.after(n,e),n.appendChild(e),o()},o=()=>{const e=document.getElementsByClassName(t)[0],n=document.createElement("button");injectSvgSprite(n,"minimize"),n.classList.add("shrink-button"),n.ariaLabel="shrink",e.appendChild(n),n.focus()},c=e=>{e.addEventListener("click",(()=>{(e=>{const t=e.querySelector("img");let n=document.createElement("img");n.src=t.src,document.body.appendChild(n),r(n),i(t)})(e),a()}))},i=e=>{const n=document.getElementsByClassName(t)[0],r=e.parentElement.parentElement.querySelector("button");n.addEventListener("click",(()=>{n.remove(),a(),r.focus()}))};e.forEach((e=>{(e=>{const t=document.createElement("button");injectSvgSprite(t,"maximize"),t.ariaLabel="enlarge",e.appendChild(t)})(e),c(e)}))})(),lineMarks=e=>{const t=document.querySelectorAll(e),n=e=>{const t=document.createElement("a");t.id="mark"+a,t.setAttribute("href","#mark"+a);const n=document.createTextNode(a);t.appendChild(n),t.classList.add("line-mark"),e.appendChild(t)};let a=0;for(const e of t)a++,n(e)};lineMarks(".add-line-marks > :where(p, h2, h3, h4, h5, h6, blockquote, ul, ol, [class*=grid])");const hash=window.location.hash;"#mark"===hash.substring(0,5)&&window.addEventListener("load",(()=>{document.querySelector(hash).scrollIntoView()}));const mapsIdAdd=void document.querySelectorAll(".map").forEach(((e,t)=>{e.id="map"+t})),startPage=(()=>{const e=document.documentElement,t="start-map";e.classList.add(t),window.addEventListener("load",(function(){setTimeout((()=>{e.classList.remove(t)}),1500)}))})(),maps=()=>{document.querySelectorAll(".map").forEach((e=>{const t=L.map(e.id),n=document.getElementById(e.id),a=JSON.parse(n.dataset.places),r=[];L.tileLayer(n.dataset.tileserver||"https://tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:n.dataset.minzoom||2,maxZoom:n.dataset.maxzoom||18,zoom:n.dataset.zoom||n.dataset.maxzoom,attribution:n.dataset.attribution||""}).addTo(t);const o=L.divIcon({className:"leaflet-data-marker",html:'<svg class="marker-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 14C146 14 57 102 57 211c0 172 199 295 199 295s199-120 199-295c0-109-89-197-199-197zm0 281a94 94 0 1 1 0-187 94 94 0 0 1 0 187z"/><path d="M256 14v94a94 94 0 0 1 0 187v211s199-120 199-295c0-109-89-197-199-197z"/></svg>',iconAnchor:[20,40],iconSize:[40,40],popupAnchor:[0,-60]});for(let e=0;e<a.length;e++){const n=L.marker(a[e][1],{icon:o});a[e][0]&&n.bindPopup(a[e][0]),n.addTo(t),r.push(n)}const c=new L.featureGroup(r);t.fitBounds(c.getBounds()),n.dataset.zoom&&t.setZoom(n.dataset.zoom)}))};window.addEventListener("load",(()=>{"undefined"!=typeof L&&maps(),document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&"undefined"!=typeof L&&maps()}))}));const rangeInput=void document.querySelectorAll(".range").forEach((e=>{const t=e.querySelector("input"),n=e.querySelector("output"),a=Math.abs(Number(t.min))+Number(t.max);function r(t){e.dataset.currency?t=new Intl.NumberFormat(e.dataset.intl,{style:"currency",currency:e.dataset.currency}).format(t):e.dataset.intl&&(stop=new Intl.NumberFormat(e.dataset.intl).format(t)),n.textContent=t}function o(){r(t.value),e.style.setProperty("--percent",100/a*(t.value-t.min)+"%")}e.style.setProperty("--percent",100/a*(t.value-t.min)+"%"),r(t.value),t.oninput=o,t.onchange=o})),rangeMultithumb=void document.querySelectorAll(".range-multithumb").forEach((e=>{const[t,n]=e.querySelectorAll("input"),a=e.querySelector("output"),r=Number(t.getAttribute("step"));let o=Number(t.value),c=Number(n.value);const i=Math.abs(Number(t.min))+Number(t.max);function l(t,n){e.dataset.currency?t=new Intl.NumberFormat(e.dataset.intl,{style:"currency",currency:e.dataset.currency}).format(t):e.dataset.intl&&(n=new Intl.NumberFormat(e.dataset.intl).format(n)),e.dataset.currency?n=new Intl.NumberFormat(e.dataset.intl,{style:"currency",currency:e.dataset.currency}).format(n):e.dataset.intl&&(t=new Intl.NumberFormat(e.dataset.intl).format(t)),a.textContent=`${t} • ${n}`}function s(){c=Number(n.value),l(this.value,c),n.value=c>Number(this.value)?c:Number(this.value)+r,e.style.setProperty("--start",100/i*(this.value-t.min)+"%"),e.style.setProperty("--stop",100/i*(n.value-t.min)+"%")}function d(){o=Number(t.value),l(o,this.value),t.value=o<Number(this.value)?o:Number(this.value)-r,e.style.setProperty("--start",100/i*(t.value-t.min)+"%"),e.style.setProperty("--stop",100/i*(this.value-t.min)+"%")}e.style.setProperty("--start",100/i*(o-t.min)+"%"),e.style.setProperty("--stop",100/i*(c-t.min)+"%"),l(o,c),t.oninput=s,n.oninput=d,t.onchange=s,n.onchange=d})),youtubeVideo=void document.querySelectorAll(".video-youtube").forEach((e=>{const t=e.dataset.id;fetch(`https://youtube.com/oembed?url=http://youtube.com/watch?v=${t}`).then((e=>e.json())).then((n=>{const a=document.createElement("div");a.classList.add("thumbnail-youtube"),a.style.backgroundImage=`url(${n.thumbnail_url})`,a.innerHTML=`<button><svg role="img" focusable="false"><use href="/sprites/util.svg#youtube"></use></svg></button><div class="video-youtube-title">${n.title}</div>`,e.appendChild(a),a.querySelector("button").addEventListener("click",(()=>{a.remove();const r=document.createElement("iframe");r.src=`https://www.youtube.com/embed/${t}?feature=oembed&autoplay=1`,r.title=n.title,r.setAttribute("allowFullScreen",""),e.appendChild(r)}))})).catch((t=>{const n=document.createElement("div");n.classList.add("thumbnail-youtube"),n.innerHTML='<div class="video-youtube-error">Erreur : cette vidéo n\'existe pas !<br>(ou a été supprimée...)<br><svg role="img" focusable="false" class="icon scale" style="--scale:500%"><use href="/sprites/util.svg#space-invader"></use></svg></div>',e.appendChild(n),console.error("Une requête pour une vidéo YouTube a échoué.")}))}));